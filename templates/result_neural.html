<!DOCTYPE html>
<html lang="es">
<head>
    <title>Resultado de la Red Neuronal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles/results.css">

</head>
<body class="bg-light text-center">
    <div class="container py-5">
        <h2 class="titulo">Resultado de la Red Neuronal</h2>

        <!-- Mostrar precisión -->
        <p class="lead">{{ result }}</p>

        <!-- Explicación del Modelo -->
        <div class="card mt-4">
            <div class="card-body">
                <h4 class="card-title">¿Cómo funciona la Red Neuronal?</h4>
                <p class="card-text">
                    La red neuronal utilizada es un modelo de aprendizaje supervisado diseñado para predecir si un caso de cáncer de mama es 
                    <strong>benigno</strong> o <strong>maligno</strong>. Se basa en un <strong>perceptrón multicapa</strong>, una arquitectura que consiste en:
                </p>
                <ul class="list-group text-start">
                    <li class="list-group-item">
                        <strong>Capa de Entrada:</strong> Recibe las características (como el grosor del tumor, tamaño de las células, etc.).
                    </li>
                    <li class="list-group-item">
                        <strong>Capas Ocultas:</strong> Transforman y procesan los datos mediante funciones de activación para aprender patrones.
                    </li>
                    <li class="list-group-item">
                        <strong>Capa de Salida:</strong> Produce un valor final que indica la probabilidad de ser benigno (0) o maligno (1). 
                        Dado que es una tarea de clasificación binaria, esta capa tiene <strong>una sola neurona</strong> con activación sigmoide.
                    </li>
                </ul>
            </div>
        </div>

        <!-- Mostrar el gráfico de la arquitectura -->
        <h4 class="text-primary mt-4">Arquitectura de la Red Neuronal</h4>
        <p class="card-text">
            Este gráfico representa las capas y conexiones de la red neuronal utilizada. Cada nodo (círculo) es una neurona, y las líneas conectan las neuronas de una capa con la siguiente:
        </p>
        <ul class="list-group text-start">
            <li class="list-group-item" style="background-color: rgb(187, 187, 255);"><strong>Capa 1 (Azul):</strong> Entrada, con tantas neuronas como características (en este caso, 9).</li>
            <li class="list-group-item" style="background-color: rgb(255, 220, 168);"><strong>Capa 2 (Naranja):</strong> Primera capa oculta con 16 neuronas.</li>
            <li class="list-group-item" style="background-color: rgb(187, 255, 207);"><strong>Capa 3 (Verde):</strong> Segunda capa oculta con 8 neuronas.</li>
            <li class="list-group-item" style="background-color: rgb(255, 187, 187);"><strong>Capa 4 (Rojo):</strong> Capa de salida con 1 neurona, que clasifica los resultados.</li>
        </ul>
        <img src="{{ url_for('static', filename='uploads/neural_layers.png') }}" alt="Arquitectura de la Red Neuronal" class="img-fluid mt-3">

        <!-- Mostrar el gráfico de precisión -->
        <h4 class="text-primary mt-4">Precisión del Entrenamiento</h4>
        <p class="card-text">
            Este gráfico muestra cómo la precisión de la red mejora durante el entrenamiento. Los datos indican que el modelo aprende correctamente:
        </p>
        <ul class="list-group text-start">
            <li class="list-group-item" style="background-color: rgb(187, 187, 255);"><strong>Línea Azul:</strong> Precisión en los datos de entrenamiento.</li>
            <li class="list-group-item" style="background-color: rgb(255, 223, 187);"><strong>Línea Naranja:</strong> Precisión en los datos de validación.</li>
        </ul>
        <img src="{{ url_for('static', filename=graph_path) }}" alt="Gráfico de Entrenamiento" class="img-fluid mt-3">

        <!-- Botones para descargar gráficos -->
        <div class="mt-4">
            <a href="{{ url_for('static', filename=graph_path) }}" download="neural_training.png" class="btn btn-success mx-2">
                Descargar Gráfico de Precisión (PNG)
            </a>
            <a href="{{ url_for('static', filename='uploads/neural_layers.png') }}" download="neural_layers.png" class="btn btn-info mx-2">
                Descargar Arquitectura de Capas (PNG)
            </a>
        </div>

        <!-- Botón de navegación -->
        <a href="{{ url_for('model_options', file_path=file_path) }}" class="btn btn-primary mt-3">
          Volver a Opciones del Modelo
      </a>
    </div>
</body>
</html>
